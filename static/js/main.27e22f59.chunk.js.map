{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/Pagination.jsx","utils/api.js","components/App.jsx","index.js"],"names":["MovieItem","state","willWatch","_this2","this","_this$props","props","data","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","react_default","a","createElement","className","src","concat","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","React","Component","MovieTabs","sort_by","updateSortBy","handleClick","classNames","active","Pagination","page","total_pages","switchPage","disabled","e","preventDefault","API_URL","API_KEY_3","App","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getMovies","fetch","then","response","json","movies","results","movie","updateMovies","filter","item","id","updateMoviesWillWatch","toConsumableArray","moviesWillWatch","push","prevProps","prevState","components_MovieTabs","map","key","components_MovieItem","length","components_Pagination","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.27e22f59.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass MovieItem extends React.Component {\r\n  state = {\r\n    willWatch: false\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      data,\r\n      deleteMovie,\r\n      addMovieToWillWatch,\r\n      deleteMovieFromWillWatch\r\n    } = this.props;\r\n    // props.data = {};\r\n    return (\r\n      <div className=\"card\">\r\n        <img\r\n          className=\"card-img-top\"\r\n          src={`https://image.tmdb.org/t/p/w500${data.backdrop_path ||\r\n            data.poster_path}`}\r\n          alt=\"\"\r\n        />\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-title\">{data.title}</h6>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\r\n            {this.state.willWatch ? (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-success\"\r\n                onClick={() => {\r\n                  this.setState({\r\n                    willWatch: false\r\n                  });\r\n                  deleteMovieFromWillWatch(data);\r\n                }}\r\n              >\r\n                Will Watch\r\n              </button>\r\n            ) : (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      willWatch: true\r\n                    });\r\n                    addMovieToWillWatch(data);\r\n                  }}\r\n                >\r\n                  Will Watch\r\n              </button>\r\n              )}\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => {\r\n              deleteMovie(data);\r\n            }}\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieItem;\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nconst MovieTabs = (props) => {\r\n  const { sort_by, updateSortBy } = props;\r\n\r\n  const handleClick = (sort_by) => () => {\r\n    return updateSortBy(sort_by);\r\n  }\r\n\r\n  return (\r\n    <ul className=\"tabs nav nav-pills\">\r\n      <li className=\"nav-item\">\r\n        <div \r\n          className={classNames('nav-link', {\"active\": (sort_by === \"popularity.desc\")})}\r\n          onClick={handleClick('popularity.desc')}\r\n        >\r\n          Popularity desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div \r\n          className={classNames('nav-link', {\"active\": (sort_by === \"revenue.desc\")})}\r\n          onClick={handleClick('revenue.desc')}\r\n        >\r\n          Revenue desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div \r\n          className={classNames('nav-link', {\"active\": (sort_by === \"vote_average.desc\")})}\r\n          onClick={handleClick('vote_average.desc')}\r\n        >\r\n          Vote average desc\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default MovieTabs;","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nconst Pagination = (props) => {\r\n  const {page, total_pages, switchPage} = props;\r\n\r\n  const handleClick = (page) => () => {\r\n    return switchPage(page);\r\n  }\r\n\r\n  return (\r\n    <nav>\r\n      <ul className=\"pagination\">\r\n        <li className={classNames(\"page-item\", {\"disabled\": (page === 1)})}>\r\n          <div \r\n            className=\"page-link\"\r\n            onClick={handleClick(page - 1)}\r\n          >\r\n            Previous\r\n          </div>\r\n        </li>\r\n        {page !== 1 && page > 3 &&\r\n        <li className=\"page-item\">\r\n          <div className=\"page-link\" onClick={handleClick(1)}>1</div>\r\n        </li>}\r\n        {page > 3 && total_pages > 5 &&\r\n        <li className=\"page-item disabled\">\r\n          <div className=\"page-link\" >...</div>\r\n        </li>}\r\n        {page > 2 &&\r\n        <li className=\"page-item\">\r\n          <div \r\n            className=\"page-link\"\r\n            onClick={handleClick(page - 2)} \r\n          >\r\n            {page - 2}\r\n          </div>\r\n        </li>}\r\n        {page > 1 &&\r\n        <li className=\"page-item\">\r\n          <div \r\n            className=\"page-link\"\r\n            onClick={handleClick(page - 1)}\r\n          >\r\n            {page - 1}\r\n          </div>\r\n        </li>}\r\n        <li className=\"page-item active\"><div className=\"page-link\"  onClick={(e) => {e.preventDefault()}}>{page}</div></li>\r\n        {(page < total_pages - 1) &&\r\n        <li className=\"page-item\">\r\n          <div \r\n            className=\"page-link\" \r\n            onClick={handleClick(page + 1)}\r\n          >\r\n            {page + 1}\r\n          </div>\r\n        </li>}\r\n        {(page < total_pages - 2) &&\r\n        <li className=\"page-item\">\r\n          <div \r\n            className=\"page-link\" \r\n            onClick={handleClick(page + 2)}\r\n          >\r\n            {page + 2}\r\n          </div>\r\n        </li>}\r\n        {(page < total_pages - 3) && total_pages > 5 &&\r\n        <li className=\"page-item disabled\">\r\n          <div className=\"page-link\" >...</div>\r\n        </li>}\r\n        {(page < total_pages - 3) && page !== total_pages &&\r\n        <li className=\"page-item\">\r\n          <div \r\n            className=\"page-link\"\r\n            onClick={handleClick(total_pages)}  \r\n          >\r\n              {total_pages}\r\n          </div>\r\n        </li>}\r\n        <li className={classNames(\"page-item\", {\"disabled\": (page === total_pages)})}>\r\n          <div \r\n            className=\"page-link\" \r\n            onClick={handleClick(page + 1)}\r\n          >\r\n            Next\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n\r\n}\r\n\r\nexport default Pagination;","export const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\r\n\r\nexport const API_KEY_4 =\r\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\r\n","import React from \"react\";\r\n\r\nimport MovieItem from \"./MovieItem\";\r\nimport MovieTabs from \"./MovieTabs\";\r\nimport Pagination from \"./Pagination\";\r\n\r\nimport {API_URL, API_KEY_3} from '../utils/api';\r\n// UI = fn(state, props)\r\n\r\n// App = new React.Component()\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      movies: [],\r\n      moviesWillWatch: [],\r\n      sort_by: 'popularity.desc',\r\n      total_pages: 1,\r\n      page: 1\r\n    };\r\n  }\r\n\r\n  getMovies = () => {\r\n    fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}`).then( response => {\r\n      return response.json();\r\n    }).then(data => {\r\n      this.setState({\r\n        movies: data.results,\r\n        total_pages: data.total_pages,\r\n      });\r\n    });\r\n  }\r\n\r\n  componentDidUpdate (prevProps, prevState) {\r\n    if (prevState.sort_by !== this.state.sort_by || prevState.page !== this.state.page) {\r\n      this.getMovies();\r\n    }\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.getMovies();\r\n  }\r\n\r\n  deleteMovie = movie => {\r\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\r\n\r\n    // this.state.movies = updateMovies;\r\n    this.setState({\r\n      movies: updateMovies\r\n    });\r\n  };\r\n\r\n  addMovieToWillWatch = movie => {\r\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch];\r\n    updateMoviesWillWatch.push(movie);\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    });\r\n  };\r\n\r\n  deleteMovieFromWillWatch = movie => {\r\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\r\n      item => item.id !== movie.id\r\n    );\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    });\r\n  };\r\n\r\n  updateSortBy = sort_by => {\r\n    this.setState({\r\n      sort_by: sort_by\r\n    });\r\n  };\r\n\r\n  switchPage = page => {\r\n    this.setState({\r\n      page: page\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-9\">\r\n            <div className=\"row mb-5\">\r\n              <div className=\"col-12\">\r\n                <MovieTabs sort_by={this.state.sort_by} updateSortBy={this.updateSortBy}/>\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              {this.state.movies.map(movie => {\r\n                return (\r\n                  <div className=\"col-6 mb-4\" key={movie.id}>\r\n                    <MovieItem\r\n                      data={movie}\r\n                      deleteMovie={this.deleteMovie}\r\n                      addMovieToWillWatch={this.addMovieToWillWatch}\r\n                      deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\r\n                    />\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\r\n            <ul className=\"list-group\">\r\n              {this.state.moviesWillWatch.map(movie => (\r\n                <li key={movie.id} className=\"list-group-item\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p>{movie.title}</p>\r\n                    <p>{movie.vote_average}</p>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <Pagination page={this.state.page} total_pages={this.state.total_pages} switchPage={this.switchPage}/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./stylesheets/index.scss\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}